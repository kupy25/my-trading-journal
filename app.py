{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tqr\tx720\tqr\tx1440\tqr\tx2160\tqr\tx2880\tqr\tx3600\tqr\tx4320\tqr\tx5040\tqr\tx5760\tqr\tx6480\tqr\tx7200\tqr\tx7920\tqr\tx8640\pardirnatural\qr\partightenfactor0

\f0\fs24 \cf0 import streamlit as st\
import pandas as pd\
import yfinance as yf\
from datetime import datetime, timedelta\
\
# \uc0\u1492 \u1490 \u1491 \u1512 \u1493 \u1514  \u1499 \u1493 \u1514 \u1512 \u1514 \
st.set_page_config(page_title="\uc0\u1497 \u1493 \u1502 \u1503  \u1492 \u1502 \u1505 \u1495 \u1512  \u1513 \u1500  \u1488 \u1489 \u1497 ", layout="wide")\
st.title("\uc0\u55357 \u56522  \u1497 \u1493 \u1502 \u1503  \u1502 \u1505 \u1495 \u1512  \u1493 \u1514 \u1495 \u1511 \u1497 \u1512  \u1489 \u1497 \u1510 \u1493 \u1506 \u1497 \u1501  - 2026")\
\
# --- 1. \uc0\u1492 \u1490 \u1491 \u1512 \u1514  \u1492 \u1493 \u1503  \u1502 \u1493 \u1513 \u1511 \u1506  ---\
total_capital = st.sidebar.number_input("\uc0\u1505 \u1499 \u1493 \u1501  \u1492 \u1513 \u1511 \u1506 \u1492  \u1499 \u1493 \u1500 \u1500  (ILS/$):", value=100000)\
\
# --- 2. \uc0\u1502 \u1502 \u1513 \u1511  \u1492 \u1494 \u1504 \u1514  \u1496 \u1512 \u1497 \u1497 \u1491  \u1495 \u1491 \u1513  ---\
with st.expander("\uc0\u10133  \u1492 \u1493 \u1505 \u1508 \u1514  \u1496 \u1512 \u1497 \u1497 \u1491  \u1495 \u1491 \u1513 "):\
    col1, col2, col3 = st.columns(3)\
    with col1:\
        ticker = st.text_input("\uc0\u1496 \u1497 \u1511 \u1512  (Ticker):").upper()\
        entry_date = st.date_input("\uc0\u1514 \u1488 \u1512 \u1497 \u1498  \u1499 \u1504 \u1497 \u1505 \u1492 :", value=datetime(2026, 1, 1))\
        entry_price = st.number_input("\uc0\u1502 \u1495 \u1497 \u1512  \u1499 \u1504 \u1497 \u1505 \u1492 :", min_value=0.0)\
    with col2:\
        quantity = st.number_input("\uc0\u1499 \u1502 \u1493 \u1514  \u1502 \u1504 \u1497 \u1493 \u1514 :", min_value=1)\
        stop_loss = st.number_input("\uc0\u1502 \u1497 \u1511 \u1493 \u1501  \u1505 \u1496 \u1493 \u1508  \u1500 \u1493 \u1505  \u1492 \u1514 \u1495 \u1500 \u1514 \u1497 :")\
        exit_price = st.number_input("\uc0\u1502 \u1495 \u1497 \u1512  \u1497 \u1510 \u1497 \u1488 \u1492  (\u1488 \u1501  \u1492 \u1505 \u1514 \u1497 \u1497 \u1501 ):", value=0.0)\
    with col3:\
        reason = st.selectbox("\uc0\u1500 \u1502 \u1492  \u1504 \u1499 \u1504 \u1505 \u1514  \u1500 \u1496 \u1512 \u1497 \u1497 \u1491 ?", \
                              ["\uc0\u1508 \u1512 \u1497 \u1510 \u1492 ", "\u1502 \u1506 \u1500  \u1502 \u1502 \u1493 \u1510 \u1506  150", "\u1496 \u1512 \u1504 \u1491  \u1513 \u1493 \u1511 ", "\u1505 \u1508 \u1500  \u1493 \u1497 \u1491 \u1497 \u1514 ", "\u1514 \u1495 \u1514 \u1497 \u1514  \u1499 \u1508 \u1493 \u1500 \u1492 ", "\u1491 \u1490 \u1500  \u1513 \u1493 \u1512 \u1497 "])\
        comments = st.text_area("\uc0\u1514 \u1495 \u1511 \u1497 \u1512  \u1493 \u1492 \u1508 \u1511 \u1514  \u1500 \u1511 \u1495 \u1497 \u1501 :")\
\
    if st.button("\uc0\u1513 \u1502 \u1493 \u1512  \u1496 \u1512 \u1497 \u1497 \u1491  \u1489 \u1497 \u1493 \u1502 \u1503 "):\
        # \uc0\u1499 \u1488 \u1503  \u1514 \u1492 \u1497 \u1492  \u1508 \u1493 \u1504 \u1511 \u1510 \u1497 \u1492  \u1500 \u1513 \u1502 \u1497 \u1512 \u1514  \u1492 \u1504 \u1514 \u1493 \u1504 \u1497 \u1501  \u1500 -Google Sheets \u1488 \u1493  \u1511 \u1493 \u1489 \u1509  \u1502 \u1511 \u1493 \u1502 \u1497 \
        st.success(f"\uc0\u1492 \u1496 \u1512 \u1497 \u1497 \u1491  \u1506 \u1500  \{ticker\} \u1504 \u1513 \u1502 \u1512  \u1489 \u1492 \u1510 \u1500 \u1495 \u1492 !")\
\
# --- 3. \uc0\u1500 \u1493 \u1495  \u1489 \u1511 \u1512 \u1492  \u1493 \u1489 \u1497 \u1510 \u1493 \u1506 \u1497 \u1501  ---\
st.header("\uc0\u55357 \u56520  \u1502 \u1506 \u1511 \u1489  \u1489 \u1497 \u1510 \u1493 \u1506 \u1497 \u1501 ")\
\
# \uc0\u1491 \u1493 \u1490 \u1502 \u1492  \u1500 \u1504 \u1514 \u1493 \u1504 \u1497 \u1501  (\u1489 \u1502 \u1510 \u1497 \u1488 \u1493 \u1514  \u1494 \u1492  \u1497 \u1497 \u1496 \u1506 \u1503  \u1502 \u1502 \u1505 \u1491  \u1492 \u1504 \u1514 \u1493 \u1504 \u1497 \u1501  \u1513 \u1500 \u1498 )\
data = \{\
    '\uc0\u1496 \u1497 \u1511 \u1512 ': ['AAPL', 'NVDA'],\
    '\uc0\u1502 \u1495 \u1497 \u1512  \u1499 \u1504 \u1497 \u1505 \u1492 ': [180.0, 450.0],\
    '\uc0\u1499 \u1502 \u1493 \u1514 ': [10, 5],\
    '\uc0\u1505 \u1496 \u1493 \u1508  \u1500 \u1493 \u1505 ': [170.0, 420.0],\
    '\uc0\u1505 \u1497 \u1489 \u1514  \u1499 \u1504 \u1497 \u1505 \u1492 ': ['\u1505 \u1508 \u1500  \u1493 \u1497 \u1491 \u1497 \u1514 ', '\u1502 \u1506 \u1500  \u1502 \u1502 \u1493 \u1510 \u1506  150'],\
    '\uc0\u1505 \u1496 \u1496 \u1493 \u1505 ': ['\u1508 \u1506 \u1497 \u1500 ', '\u1505 \u1490 \u1493 \u1512 ']\
\}\
df = pd.DataFrame(data)\
\
# \uc0\u1495 \u1497 \u1513 \u1493 \u1489  \u1512 \u1493 \u1493 \u1495 /\u1492 \u1508 \u1505 \u1491  "\u1506 \u1500  \u1492 \u1504 \u1497 \u1497 \u1512 " \u1489 \u1506 \u1494 \u1512 \u1514  yfinance\
def get_live_data(ticker):\
    try:\
        stock = yf.Ticker(ticker)\
        current_price = stock.history(period='1d')['Close'].iloc[-1]\
        ma150 = stock.history(period='200d')['Close'].mean() # \uc0\u1492 \u1506 \u1512 \u1499 \u1492  \u1500 \u1502 \u1502 \u1493 \u1510 \u1506  150\
        return round(current_price, 2), round(ma150, 2)\
    except:\
        return 0, 0\
\
# \uc0\u1492 \u1510 \u1490 \u1514  \u1492 \u1496 \u1489 \u1500 \u1492  \u1506 \u1501  \u1504 \u1514 \u1493 \u1504 \u1497 \u1501  \u1495 \u1497 \u1497 \u1501 \
st.subheader("\uc0\u1508 \u1493 \u1494 \u1497 \u1510 \u1497 \u1493 \u1514  \u1508 \u1514 \u1493 \u1495 \u1493 \u1514  \u1493 \u1514 \u1495 \u1511 \u1497 \u1512 ")\
for index, row in df.iterrows():\
    curr, ma = get_live_data(row['\uc0\u1496 \u1497 \u1511 \u1512 '])\
    pnl = (curr - row['\uc0\u1502 \u1495 \u1497 \u1512  \u1499 \u1504 \u1497 \u1505 \u1492 ']) * row['\u1499 \u1502 \u1493 \u1514 ']\
    \
    # \uc0\u1489 \u1491 \u1497 \u1511 \u1514  \u1499 \u1500 \u1500 \u1497 \u1501  (\u1500 \u1508 \u1497  \u1492 \u1506 \u1491 \u1508 \u1493 \u1514 \u1497 \u1498 )\
    status_msg = "\uc0\u9989  \u1506 \u1493 \u1502 \u1491  \u1489 \u1499 \u1500 \u1500  150 MA" if curr > ma else "\u9888 \u65039  \u1502 \u1514 \u1495 \u1514  \u1500 \u1502 \u1502 \u1493 \u1510 \u1506  150"\
    \
    st.info(f"**\{row['\uc0\u1496 \u1497 \u1511 \u1512 ']\}**: \u1502 \u1495 \u1497 \u1512  \u1504 \u1493 \u1499 \u1495 \u1497 : \{curr\}$ | \u1512 \u1493 \u1493 \u1495 /\u1492 \u1508 \u1505 \u1491  \u1506 \u1500  \u1492 \u1504 \u1497 \u1497 \u1512 : \{pnl\}$ | \{status_msg\}")\
\
# --- 4. \uc0\u1514 \u1495 \u1511 \u1497 \u1512  \u1500 \u1502 \u1497 \u1491 \u1492  ---\
st.subheader("\uc0\u55357 \u56531  \u1505 \u1497 \u1499 \u1493 \u1501  \u1514 \u1495 \u1511 \u1497 \u1512  (Lessons Learned)")\
st.write("- **\uc0\u1492 \u1506 \u1512 \u1493 \u1514  \u1500 \u1513 \u1497 \u1502 \u1493 \u1512 :** \u1492 \u1488 \u1501  \u1504 \u1499 \u1504 \u1505 \u1514  \u1489 \u1508 \u1512 \u1497 \u1510 \u1492  \u1504 \u1511 \u1497 \u1497 \u1492 ?")\
st.write("- **\uc0\u1492 \u1506 \u1512 \u1493 \u1514  \u1500 \u1513 \u1497 \u1508 \u1493 \u1512 :** \u1492 \u1488 \u1501  \u1492 \u1505 \u1496 \u1493 \u1508  \u1500 \u1493 \u1505  \u1492 \u1497 \u1492  \u1511 \u1512 \u1493 \u1489  \u1502 \u1491 \u1497  \u1500 \u1502 \u1502 \u1493 \u1510 \u1506  150?")}